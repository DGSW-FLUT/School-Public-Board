(this.webpackJsonpaaa=this.webpackJsonpaaa||[]).push([[0],{19:function(n,e,t){n.exports=t(29)},24:function(n,e,t){},29:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(14),c=t.n(o),i=(t(24),t(18)),u=t(5),l=t(6),f=t(9),s=t(8),m=t(1),d=t(2);function v(){var n=Object(m.a)(["\n  color: white;\n  vertical-align: middle;\n  margin-left: 1rem;\n  font-size: 1.2rem;\n"]);return v=function(){return n},n}function p(){var n=Object(m.a)(["\n  width: 99.1%;\n  height: 1.2rem;\n  background-color: #03965d;\n  border-radius: 28px;\n"]);return p=function(){return n},n}function h(){var n=Object(m.a)(["\n  width: 35rem;\n  height: 1.2rem;\n  background-color: #666666;\n  border-radius: 28px;\n"]);return h=function(){return n},n}function b(){var n=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  margin-top: 2.5rem;\n  margin-bottom: 3rem;\n"]);return b=function(){return n},n}function g(){var n=Object(m.a)(["\n  margin-top: 1rem;\n  font-size: 3.5rem;\n  color: #fff;\n"]);return g=function(){return n},n}var M=d.a.div(g()),O=d.a.div(b()),j=d.a.div(h()),E=d.a.div(p()),_=d.a.div(v()),w=t(3),S=t.n(w);function D(){return S()([2020,8,13,18,30])}function x(){return S()([2020,8,29,18,30])}var y=function(n){Object(f.a)(t,n);var e=Object(s.a)(t);function t(){return Object(u.a)(this,t),e.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var n,e=x()-D(),t=this.props.nowDate-D();return a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null,t<e?x().subtract(this.props.nowDate).format("\uc9d1\uae4c\uc9c0 D\uc77c H\uc2dc\uac04 m\ubd84 s\ucd08").toString():"\uc9d1 \uac08 \uc2dc\uac04\uc785\ub2c8\ub2e4!"),a.a.createElement(O,null,a.a.createElement(j,null,a.a.createElement(E,{style:{width:"".concat(t/e*100,"%")}})),a.a.createElement(_,null,(n=t/e,Math.round(1e4*n)/100+"%"))))}}]),t}(r.Component),k=t(4),L=t.n(k),C=t(11);function Y(){var n=Object(m.a)(["\n  line-height: 1.5;\n  font-size: 1.8rem;\n  white-space: pre-wrap;\n"]);return Y=function(){return n},n}function A(){var n=Object(m.a)(["\n  font-size: 2.5rem;\n  margin-bottom: 0.4rem;\n  color: #4db8ff;\n"]);return A=function(){return n},n}function I(){var n=Object(m.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  color: #f2f2f2;\n\n  & + & {\n    margin-top: 1.2rem;\n  }\n\n  & > * {\n    text-align: center;\n  }\n"]);return I=function(){return n},n}function N(){var n=Object(m.a)(["\n  font-size: 1.3rem;\n  text-align: center;\n  margin-bottom: 1.5rem;\n  color: #fff;\n"]);return N=function(){return n},n}function V(){var n=Object(m.a)(["\n  margin-top: 3rem;\n  display: flex;\n  flex-direction: column;\n"]);return V=function(){return n},n}d.a.div(V()),d.a.h3(N());var z=d.a.div(I()),H=d.a.h2(A()),F=d.a.div(Y()),T=null;function W(n){return n.toISOString().substr(0,10).replace(/-/g,"")}function B(n){var e=new Date,t=W(e);return!(n.MLSV_YMD>t)&&(n.MLSV_YMD<t||("\uc870\uc2dd"===n.MMEAL_SC_NM?e.getHours()>=8:"\uc911\uc2dd"===n.MMEAL_SC_NM?e.getHours()>=13:"\uc11d\uc2dd"===n.MMEAL_SC_NM?e.getHours()>=19:void 0))}function J(n){for(var e=19;e>0;--e)n=n.replace("".concat(e,"."),"");return n.replace(/<br\/>/g,"\n")}var U=function(n){Object(f.a)(t,n);var e=Object(s.a)(t);function t(n){var r;return Object(u.a)(this,t),(r=e.call(this,n)).interval=null,r.state={mealInfo:[]},r}return Object(l.a)(t,[{key:"update",value:function(){var n=Object(C.a)(L.a.mark((function n(){var e,t,r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(T);case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,r=W(new Date),a=[],t.mealServiceDietInfo[1].row.forEach((function(n){if(!B(n)){var e="undefined";e=n.MLSV_YMD===r?n.MMEAL_SC_NM:"".concat(n.MLSV_YMD.substr(0,4),"/")+"".concat(n.MLSV_YMD.substr(4,2),"/")+"".concat(n.MLSV_YMD.substr(6,2)," ").concat(n.MMEAL_SC_NM),a.push({menu:J(n.DDISH_NM),title:e,idx:Number(n.MLSV_YMD+n.MMEAL_SC_CODE)})}})),a.sort((function(n,e){return n.idx-e.idx})),this.setState({mealInfo:a.slice(0,3)});case 11:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"setApiLink",value:function(){var n=Object(C.a)(L.a.mark((function n(){var e,t;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/open_api_key");case 2:return e=n.sent,n.next=5,e.text();case 5:t=n.sent,T="https://open.neis.go.kr/hub/mealServiceDietInfo?ATPT_OFCDC_SC_CODE=D10&SD_SCHUL_CODE=7240393&MLSV_FROM_YMD=20200925&Type=json&KEY="+t;case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var n=this;this.setApiLink().then((function(){n.update()}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var n=this.state.mealInfo.map((function(n,e){return a.a.createElement(z,{key:e},a.a.createElement(H,null,"< ",n.title," >"),a.a.createElement(F,null,n.menu))}));return a.a.createElement("div",null,n)}}]),t}(r.Component);function K(){var n=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2.5rem;\n  color: #d9d9d9;\n  padding-top: 2.5rem;\n\n  & > * + * {\n    margin-left: 0.5rem;\n  }\n"]);return K=function(){return n},n}function P(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  background-color: #282c34;\n  width: 100%;\n  height: 100vh;\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  overflow: hidden;\n  cursor: none;\n"]);return P=function(){return n},n}var R=d.a.div(P()),$=d.a.h2(K());var q=function(){var n=Object(r.useState)(S()()),e=Object(i.a)(n,2),t=e[0],o=e[1];return Object(r.useEffect)((function(){setInterval((function(){return o(S()())}),500)})),a.a.createElement(R,{className:"App"},a.a.createElement($,null,t.format("ddd YYYY.M.D").toString()),a.a.createElement(y,{nowDate:t}),a.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.fda4e978.chunk.js.map